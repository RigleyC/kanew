00:00 +0: loading test/integration/auth_test.dart
SERVERPOD version: 3.1.1, dart: 3.10.4 (stable) (Tue Dec 9 00:01:55 2025 -0800) on "windows_x64", time: 2026-01-08 15:01:19.017302Z
runMode: development
serverId: default
role: monolith
loggingMode: normal
applyMigrations: false
applyRepairMigration: false
SERVERPOD initialized, time: 2026-01-08 15:01:19.023873Z
00:00 +0: Auth Flow (setUpAll)
Invalid serviceSecret in password file, Insights server disabled.WARNING: CPU and memory usage metrics are not supported on Windows.
00:00 +0: Auth Flow given a new user when registering then verification code is stored and account can be created

ÔòöÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòù
Ôòæ  ­ƒôº REGISTRATION VERIFICATION CODE                           Ôòæ
ÔòáÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòú
Ôòæ  Email: test_83364c0b-3cbc-48c5-ab77-7b0eb647e7c8@example.com
Ôòæ  Code:  ggrxw4mw
ÔòÜÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòÉÔòØ

00:00 +0 -1: Auth Flow given a new user when registering then verification code is stored and account can be created [E]
  Concurrent calls to transaction are not supported when database rollbacks are enabled. Disable rolling back the database by setting `rollbackDatabase` to `RollbackDatabase.disabled`.
  package:serverpod_test/src/test_database_proxy.dart 198:7                                                               TestDatabaseProxy.transaction
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/common/rate_limited_request_attempt/rate_limited_request_attempt_util.dart 95:31  DatabaseRateLimitedRequestAttemptUtil.hasTooManyAttempts
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/common/secret_challenge/secret_challenge_config.dart 149:12                       SecretChallengeVerificationConfigExtension.hasTooManyAttempts
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/common/secret_challenge/secret_challenge_util.dart 84:9                           SecretChallengeUtil.verifyChallenge
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/providers/email/business/utils/email_idp_account_creation_util.dart 452:14        EmailIdpAccountCreationUtil.withReplacedSecretChallengeException
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/providers/email/business/utils/email_idp_account_creation_util.dart 162:12        EmailIdpAccountCreationUtil.verifyRegistrationCode
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/providers/email/business/email_idp.dart 269:18                                    EmailIdp.verifyRegistrationCode.<fn>.<fn>
  ===== asynchronous gap ===========================
  package:serverpod_auth_idp_server/src/providers/email/business/email_idp_utils.dart 73:14                               EmailIdpUtils.withReplacedServerEmailException
  ===== asynchronous gap ===========================
  package:serverpod_test/src/test_database_proxy.dart 205:20                                                              TestDatabaseProxy.transaction
  ===== asynchronous gap ===========================
  test\integration\test_tools\serverpod_test_tools.dart 256:13                                                            _EmailIdpEndpoint.verifyRegistrationCode.<fn>
  ===== asynchronous gap ===========================
  package:serverpod_test/src/function_call_wrappers.dart 12:12                                                            callAwaitableFunctionAndHandleExceptions
  ===== asynchronous gap ===========================
  test\integration\auth_test.dart 44:35                                                                                   main.<fn>.<fn>
  
00:00 +0 -1: Auth Flow (tearDownAll)
00:01 +0 -1: Some tests failed.

Consider enabling the flag chain-stack-traces to receive more detailed exceptions.
For example, 'dart test --chain-stack-traces'.
