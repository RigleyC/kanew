# Liga o Usu√°rio (UserInfo do Serverpod) ao Workspace
class: WorkspaceMember
table: workspace_member
fields:
  # Primary Key - UuidValue using Serverpod 3.x pattern
  id: UuidValue?, defaultPersist=random_v7
  
  authUserId: UuidValue # Changed from userInfoId: int to match Serverpod 3.x auth
  workspaceId: UuidValue, relation(parent=workspace)
  role: MemberRole # owner, admin, member (hierarquia)
  status: MemberStatus # active, invited, suspended (estado)
  joinedAt: DateTime
  
  # Soft Delete (Se removido do time)
  deletedAt: DateTime?
  deletedBy: UuidValue? # Changed from int to UuidValue
indexes:
  workspace_member_unique_idx:
    fields: authUserId, workspaceId
    unique: true
